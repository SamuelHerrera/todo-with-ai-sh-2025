<mxfile host="65bd71144e">
    <diagram name="Todo App Architecture" id="architecture">
        <mxGraphModel dx="1345" dy="663" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="&lt;font style=&quot;font-size: 25px; line-height: 100%;&quot;&gt;System Architecture -&amp;nbsp;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;todo-with-ai-sh-2025&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=#d79b00;fillColor=#ffcd28;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;gradientColor=#ffa500;" parent="1" vertex="1">
                    <mxGeometry x="380" y="20" width="770" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="50" y="20" width="300" height="270" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-title" value="Frontend (Next.js)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="120" y="30" width="170" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="app-component" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Features&lt;/span&gt;&lt;/div&gt;&lt;div&gt;• Task management UI&lt;br&gt;• Real-time updates&lt;br&gt;• Task CRUD operations&lt;br&gt;&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;•&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Email authentication&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;• User registration&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" parent="1" vertex="1">
                    <mxGeometry x="60" y="70" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="task-components" value="Components&lt;br&gt;&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;• App&lt;/span&gt;&lt;br&gt;&lt;div&gt;• TaskList&lt;br&gt;• TaskItem&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="220" y="70" width="120" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="8" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;dashed=1;strokeColor=#B3B3B3;strokeWidth=2;" edge="1" parent="1" source="hooks" target="services">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="130" y="274"/>
                            <mxPoint x="250" y="274"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="hooks" value="React Hooks&#xa;• UserContext&#xa;• TasksContext&#xa;• useRealtimeTasks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="60" y="180" width="140" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="backend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="150" width="330" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="backend-title" value="Backend (Next.js API)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="500" y="160" width="170" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="auth-api" value="/api/auth&#xa;• User authentication&#xa;• User creation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="625" y="193.75" width="130" height="67.5" as="geometry"/>
                </mxCell>
                <mxCell id="todos-api" value="/api/todos&#xa;• GET: Fetch tasks&#xa;• POST: Create task&#xa;• PATCH: Update task" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="450" y="220" width="160" height="107.5" as="geometry"/>
                </mxCell>
                <mxCell id="services" value="Services&#xa;• authService&#xa;• taskService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="220" y="170" width="120" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="middleware" value="Middleware&lt;br&gt;• Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="617.5" y="290" width="130" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="database-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="160" width="340" height="280" as="geometry"/>
                </mxCell>
                <mxCell id="database-title" value="Database (Supabase)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="800" y="180" width="200" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="users-table" value="users table&#xa;• id (UUID)&#xa;• email&#xa;• name&#xa;• created_at" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="832.5" y="261.25" width="115" height="97.5" as="geometry"/>
                </mxCell>
                <mxCell id="todos-table" value="todos table&#xa;• id (UUID)&#xa;• user_id&#xa;• title&#xa;• description&#xa;• is_completed&#xa;• created_at&#xa;• updated_at" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="972" y="255" width="140" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="realtime" value="Real-time&#xa;Subscriptions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="820" y="370" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="n8n-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="50" y="410" width="470" height="260" as="geometry"/>
                </mxCell>
                <mxCell id="n8n-title" value="N8N Workflow Service" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="83" y="414" width="190" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="task-enhancement" value="Task Enhancement&lt;br&gt;• AI-powered agent improvement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="60" y="600" width="220" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="http-tools" value="HTTP Tools&#xa;• Get Tasks Tool&#xa;• Create Task Tool&#xa;• Update Task Tool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="370" y="590.63" width="130" height="68.75" as="geometry"/>
                </mxCell>
                <mxCell id="memory" value="Memory Management&#xa;• Session tracking&#xa;• Conversation history&#xa;• Context preservation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="60" y="442.5" width="220" height="72.5" as="geometry"/>
                </mxCell>
                <mxCell id="webhooks" value="Webhook Endpoints&#xa;• /task-enhancement&#xa;• /wa-message" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="290" y="440" width="130" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="wa-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="545" y="610" width="290" height="199.37" as="geometry"/>
                </mxCell>
                <mxCell id="wa-title" value="WhatsApp Automation (Baileys)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="545" y="620" width="290" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="message-handler" value="Message Handler&lt;br&gt;• ### command filter&lt;br&gt;• Message processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="612.5" y="649.38" width="155" height="64.37" as="geometry"/>
                </mxCell>
                <mxCell id="webhook-service" value="Webhook Client&lt;br&gt;• N8N communication&lt;br&gt;• Message forwarding&lt;br&gt;• Response handling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="612.5" y="720" width="155" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="external-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="650" y="460" width="500" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="external-title" value="External Services" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="785" y="465" width="210" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="openai-external" value="OpenAI API&lt;br&gt;• GPT-3.5-turbo&lt;br&gt;• Thinking model&lt;div&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;• Tool support&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="670" y="491.26" width="150" height="60.63" as="geometry"/>
                </mxCell>
                <mxCell id="whatsapp-external" value="WhatsApp&lt;br&gt;• Message delivery" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="990" y="491.26" width="149" height="48.74" as="geometry"/>
                </mxCell>
                <mxCell id="vercel" value="Vercel&lt;br&gt;• Hosting platform&lt;br&gt;• Serverless" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="829.5" y="490.63" width="150" height="49.37" as="geometry"/>
                </mxCell>
                <mxCell id="arrow1" value="HTTP&amp;nbsp;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;Requests&lt;/span&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="services" target="todos-api" edge="1">
                    <mxGeometry x="0.0793" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="310" y="274"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow2" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;HTTP&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;Requests&lt;/span&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=2;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="services" target="auth-api" edge="1">
                    <mxGeometry x="0.2774" y="6" relative="1" as="geometry">
                        <mxPoint x="360" y="120.02857142857147" as="sourcePoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="todos-api" target="todos-table" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="480" y="240" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="410" y="247"/>
                            <mxPoint x="410" y="130"/>
                            <mxPoint x="1042" y="130"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;strokeWidth=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="auth-api" target="users-table" edge="1">
                    <mxGeometry x="-0.0879" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow5" value="Real-time Updates" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00ff00;strokeWidth=3;dashed=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="realtime" target="hooks" edge="1">
                    <mxGeometry x="0.7818" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow6" value="Task Creation Webhook" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6600;strokeWidth=2;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="todos-api" target="webhooks" edge="1">
                    <mxGeometry x="0.3174" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow7" value="Enhanced Task Updates" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff6600;strokeWidth=2;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="http-tools" target="todos-api" edge="1">
                    <mxGeometry x="0.7674" y="-10" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="435" y="380"/>
                            <mxPoint x="530" y="380"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow8" value="### Commands" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066ff;strokeWidth=2;" parent="1" source="message-handler" target="webhooks" edge="1">
                    <mxGeometry x="-0.1027" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow9" value="AI Responses" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066ff;strokeWidth=2;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="webhooks" target="webhook-service" edge="1">
                    <mxGeometry x="0.1389" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow10" value="AI Processing" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9900ff;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="3" target="openai-external" edge="1">
                    <mxGeometry x="0.5174" y="1" relative="1" as="geometry">
                        <mxPoint x="560" y="572.5" as="sourcePoint"/>
                        <Array as="points"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow11" value="Message&amp;nbsp;&lt;div&gt;Delivery&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00cc00;strokeWidth=2;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="whatsapp-external" target="message-handler" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="960" y="750" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="3" value="Information Extractor&lt;br&gt;• AI-powered agent to fill task parameters" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
                    <mxGeometry x="60" y="530" width="220" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="AI Processing" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9900ff;strokeWidth=2;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="task-enhancement" target="vercel">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="290" y="565" as="sourcePoint"/>
                        <mxPoint x="880" y="570" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="300" y="612"/>
                            <mxPoint x="300" y="570"/>
                            <mxPoint x="904" y="570"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="11" value="Message D&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;elivery&lt;/span&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00cc00;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="webhook-service" target="whatsapp-external">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="855.25" y="813" as="sourcePoint"/>
                        <mxPoint x="1064.25" y="780" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="13" value="Samuel Herrera, Aug 2025" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
                    <mxGeometry x="670" y="64" width="222.5" height="20" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>